<% if current_page?(episodes_path) %>
  <div class="md:w-1/2 xl:w-1/4 p-4">
<% else %>
  <div class="md:w-1/2 xl:w-1/2 p-4">
<% end %>
    <div class="card card-side bg-base-100 shadow-xl">
      <div class="card-body">
        <div class="flex flex-wrap">
          <div class="w-1/3">
            <label tabindex="0" class="btn btn-ghost btn-circle avatar">
              <div class="w-12 rounded-full">
                <% if episode.user.profile_icon.attached? %>
                  <%= link_to user_path(episode.user) do %>
                    <%= image_tag episode.user.profile_icon %>
                  <% end %>
                <% else %>
                  <%= link_to user_path(episode.user) do %>
                    <%= image_tag("no_image.jpg", alt: "no_image") %>
                  <% end %>
                <% end %>
              </div>
            </label>  
          </div>
          <div class="w-2/3">
            <h2 class="card-title link link-hover"><%= link_to "#{episode.title}", episode_path(episode) %></h2>
          </div>
        </div>
        <div class="flex flex-wrap">
          <p><%=  episode.content.truncate(50) %></p>
        </div>
        <% unless episode.tags.empty? %>
        <% end %>
        <div class="card-actions justify-end">
          <div class="flex">
            <%= link_to "詳細ページへ", episode_path(episode), class:"btn btn-outline btn-primary" %>
            <% if current_user?(episode.user) %>
              <%= link_to "削除", episode, data: { "turbo-method": :delete,turbo_confirm: "投稿を削除します" }, class:"btn btn-outline btn-primary ml-4" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

